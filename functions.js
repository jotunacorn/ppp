var connected = false;
var socket = io();
var counter = 0;
var roomName = "";
function joinRoom() {
    roomName = $('#room').val();
    socket.emit('change room', roomName);
    $( ".joinForm" ).css("display", "none");
    $('#bottom').css("visibility", "visible");
    $( ".header" ).css("margin-top", "0");
    $( "#messages" ).css("display", "inline");
    connected = true;
}
socket.on('receive hero', function(msg){
    var info = msg.split("@");
    $('#messages').append("<li onclick=\"toggleDiv('hero"+counter+"')\"><h1>"+ info[0]+ "</h1>" + info[1] + "<h3>" +info[4]+ "</h3><p id=\"hero" +counter+"\" style=\"display:none\">" +info[5]+"</p></li>");
    counter ++;
});
socket.on('reset hands', function(){
    counter = 0;
    $('#messages').empty();
});

function requestHero(){
    socket.emit('request hero');
}

function resetHeroes(){
    var r = confirm("Do you want to reset all players heroes?");
    if (r == true) {
        socket.emit('reset');
    }
}

function toggleDiv(id){
    if(document.getElementById(id).style.display == 'block'){
        document.getElementById(id).style.display = 'none';
    }
    else{
        document.getElementById(id).style.display = 'block';
    }
    return false;
}
addMessageSequenceFromJson({"messages":[{"uuid":"e2a3","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.221:16066","timeTaken":"62ms","traceId":"1","type":"logSequence"},{"uuid":"e2a3","from":"PolicyEngine","to":"AccountDB","counter":"22","msg":"Sending DB-Get to 127.0.0.1:3399","timeTaken":"62ms","traceId":"1","type":"logSequence"},{"uuid":"e2a3","from":"AccountDB","to":"PolicyEngine","counter":"24","msg":"Responding with Request-Nack to Request-Nack from 127.0.0.1:60954","timeTaken":"62ms","traceId":"1","type":"logSequence"},{"uuid":"e2a3","from":"PolicyEngine","to":"SessionProxy","counter":"40","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.221:40790","timeTaken":"62ms","traceId":"1","type":"logSequence"},{"uuid":"fc74","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Post-Auth to 192.168.120.221:16067","timeTaken":"8ms","traceId":"1","type":"logSequence"},{"uuid":"fc74","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Post-Auth from 192.168.120.221:36167","timeTaken":"8ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16068","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"PolicyEngine","to":"udamgen ","counter":"14","msg":"Got response Bus-Ack for Session-Established from 127.0.0.1:9090","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"udamgen ","to":"PolicyEngine","counter":"16","msg":"Sending Session-Established to /var/run/evh2d/evh2d.sock","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"PolicyEngine","to":"AdapterProxy","counter":"19","msg":"Sending RADIUS-Request to 127.0.0.1:4422","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"AdapterProxy","to":"RadiusOutAdapter","counter":"21","msg":"Sending RADIUS-Request to 192.168.120.221:5005","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"RadiusOutAdapter","to":"AdapterProxy","counter":"23","msg":"Responding with Request-Nack to Request-Nack from 192.168.120.221:50145","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"AdapterProxy","to":"PolicyEngine","counter":"25","msg":"Responding with Request-Nack to RADIUS-Request from 127.0.0.1:45218","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"64ed","from":"PolicyEngine","to":"SessionProxy","counter":"30","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:48166","timeTaken":"58ms","traceId":"1","type":"logSequence"},{"uuid":"c02a","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.221:16069","timeTaken":"1775ms","traceId":"1","type":"logSequence"},{"uuid":"c02a","from":"PolicyEngine","to":"AccountDB","counter":"22","msg":"Sending DB-Get to 127.0.0.1:3399","timeTaken":"1775ms","traceId":"1","type":"logSequence"},{"uuid":"c02a","from":"AccountDB","to":"PolicyEngine","counter":"24","msg":"Responding with Request-Nack to Request-Nack from 127.0.0.1:46646","timeTaken":"1775ms","traceId":"1","type":"logSequence"},{"uuid":"c02a","from":"PolicyEngine","to":"SessionProxy","counter":"40","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.221:34357","timeTaken":"1775ms","traceId":"1","type":"logSequence"},{"uuid":"2760","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Post-Auth to 192.168.120.221:16070","timeTaken":"34ms","traceId":"1","type":"logSequence"},{"uuid":"2760","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Post-Auth from 192.168.120.221:58059","timeTaken":"34ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16071","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"PolicyEngine","to":"udamgen ","counter":"14","msg":"Got response Bus-Ack for Session-Established from 127.0.0.1:9090","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"udamgen ","to":"PolicyEngine","counter":"16","msg":"Sending Session-Established to /var/run/evh2d/evh2d.sock","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"PolicyEngine","to":"AdapterProxy","counter":"19","msg":"Sending RADIUS-Request to 127.0.0.1:4422","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"AdapterProxy","to":"RadiusOutAdapter","counter":"21","msg":"Sending RADIUS-Request to 192.168.120.221:5005","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"RadiusOutAdapter","to":"AdapterProxy","counter":"23","msg":"Responding with Request-Nack to Request-Nack from 192.168.120.221:50145","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"AdapterProxy","to":"PolicyEngine","counter":"25","msg":"Responding with Request-Nack to RADIUS-Request from 127.0.0.1:37890","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"8be2","from":"PolicyEngine","to":"SessionProxy","counter":"30","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:52044","timeTaken":"71ms","traceId":"1","type":"logSequence"},{"uuid":"5e1b","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.221:16064","timeTaken":"47ms","traceId":"1","type":"logSequence"},{"uuid":"5e1b","from":"PolicyEngine","to":"AccountDB","counter":"22","msg":"Sending DB-Get to 127.0.0.1:3399","timeTaken":"47ms","traceId":"1","type":"logSequence"},{"uuid":"5e1b","from":"AccountDB","to":"PolicyEngine","counter":"24","msg":"Responding with Request-Nack to Request-Nack from 127.0.0.1:41131","timeTaken":"47ms","traceId":"1","type":"logSequence"},{"uuid":"5e1b","from":"PolicyEngine","to":"SessionProxy","counter":"40","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.221:36838","timeTaken":"47ms","traceId":"1","type":"logSequence"},{"uuid":"41d9","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Post-Auth to 192.168.120.221:16065","timeTaken":"7ms","traceId":"1","type":"logSequence"},{"uuid":"41d9","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Post-Auth from 192.168.120.221:39052","timeTaken":"7ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16066","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"PolicyEngine","to":"udamgen ","counter":"14","msg":"Got response Bus-Ack for Session-Established from 127.0.0.1:9090","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"udamgen ","to":"PolicyEngine","counter":"16","msg":"Sending Session-Established to /var/run/evh2d/evh2d.sock","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"PolicyEngine","to":"AdapterProxy","counter":"19","msg":"Sending RADIUS-Request to 127.0.0.1:4422","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"AdapterProxy","to":"RadiusOutAdapter","counter":"21","msg":"Sending RADIUS-Request to 192.168.120.221:5005","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"RadiusOutAdapter","to":"AdapterProxy","counter":"23","msg":"Responding with Request-Nack to Request-Nack from 192.168.120.221:50145","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"AdapterProxy","to":"PolicyEngine","counter":"25","msg":"Responding with Request-Nack to RADIUS-Request from 127.0.0.1:45216","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"4f1a","from":"PolicyEngine","to":"SessionProxy","counter":"30","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:40790","timeTaken":"37ms","traceId":"1","type":"logSequence"},{"uuid":"1baa","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.221:16067","timeTaken":"154ms","traceId":"1","type":"logSequence"},{"uuid":"1baa","from":"PolicyEngine","to":"SessionProxy","counter":"29","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.221:36167","timeTaken":"154ms","traceId":"1","type":"logSequence"},{"uuid":"b6fb","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Post-Auth to 192.168.120.221:16068","timeTaken":"12ms","traceId":"1","type":"logSequence"},{"uuid":"b6fb","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Post-Auth from 192.168.120.221:48166","timeTaken":"12ms","traceId":"1","type":"logSequence"},{"uuid":"9032","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16069","timeTaken":"35ms","traceId":"1","type":"logSequence"},{"uuid":"9032","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:34357","timeTaken":"35ms","traceId":"1","type":"logSequence"},{"uuid":"5214","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16070","timeTaken":"24ms","traceId":"1","type":"logSequence"},{"uuid":"5214","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:58059","timeTaken":"24ms","traceId":"1","type":"logSequence"},{"uuid":"0f88","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.221:16071","timeTaken":"13ms","traceId":"1","type":"logSequence"},{"uuid":"0f88","from":"PolicyEngine","to":"SessionProxy","counter":"10","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.221:52044","timeTaken":"13ms","traceId":"1","type":"logSequence"},{"uuid":"53a2","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.229:16064","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"SessionDBProxy","counter":"10","msg":"Sending DB-List to 127.0.0.1:16053","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"SessionDBProxy","to":"PolicyEngine","counter":"12","msg":"Responding with End to DB-List from 127.0.0.1:36074","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"AccountDB","counter":"18","msg":"Sending DB-Get to 127.0.0.1:3399","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"AccountDB","to":"PolicyEngine","counter":"20","msg":"Responding with Request-Nack to Request-Nack from 127.0.0.1:56998","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"SessionDBProxy","counter":"25","msg":"Sending DB-Get to 127.0.0.1:16053","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"SessionDBProxy","to":"PolicyEngine","counter":"26","msg":"Sending DB-Get to 192.168.120.229:16065","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"SessionDBProxy","counter":"42","msg":"} lua_modules.aptilo_wifi_common_session.flush return ()","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"SessionDBProxy","to":"PolicyEngine","counter":"42","msg":"Received DB-Update from 127.0.0.1:36074","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"SessionDBProxy","counter":"43","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.229:48283","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"SessionDBProxy","to":"PolicyEngine","counter":"44","msg":"Sending DB-Update to 192.168.120.229:16066","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"PolicyEngine","to":"SessionProxy","counter":"44","msg":"0x400ad5b0)","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"53a2","from":"SessionProxy","to":"PolicyEngine","counter":"45","msg":"Responding with Request-Ack to RADIUS-Auth from [::1]:43581","timeTaken":"524ms","traceId":"6","type":"logSequence"},{"uuid":"3f56","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.229:16065","timeTaken":"95ms","traceId":"6","type":"logSequence"},{"uuid":"3f56","from":"PolicyEngine","to":"SessionProxy","counter":"27","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.229:58396","timeTaken":"95ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.229:16066","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"PolicyEngine","to":"SessionDBProxy","counter":"10","msg":"Evaluating ruleset 'Aptilo-WiFi-CDR-RS'","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"SessionDBProxy","to":"PolicyEngine","counter":"11","msg":"Sending DB-List to 192.168.120.229:16067","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"PolicyEngine","to":"SessionDBProxy","counter":"17","msg":"Sending DB-Get to 127.0.0.1:16053","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"SessionDBProxy","to":"PolicyEngine","counter":"18","msg":"Sending DB-Get to 192.168.120.229:16068","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"PolicyEngine","to":"SessionDBProxy","counter":"21","msg":"0x40762f98)","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"SessionDBProxy","to":"PolicyEngine","counter":"22","msg":"Sending DB-Update to 192.168.120.229:16069","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"10fa","from":"PolicyEngine","to":"SessionProxy","counter":"27","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.229:32925","timeTaken":"794ms","traceId":"6","type":"logSequence"},{"uuid":"f515","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.229:16067","timeTaken":"76ms","traceId":"6","type":"logSequence"},{"uuid":"f515","from":"PolicyEngine","to":"SessionProxy","counter":"18","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.229:35980","timeTaken":"76ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Auth to 192.168.120.229:16068","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"PolicyEngine","to":"SessionDBProxy","counter":"10","msg":"Evaluating ruleset 'Aptilo-WiFi-CDR-RS'","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"SessionDBProxy","to":"PolicyEngine","counter":"11","msg":"Sending DB-List to 192.168.120.229:16070","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"PolicyEngine","to":"SessionDBProxy","counter":"17","msg":"Sending DB-Get to 127.0.0.1:16053","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"SessionDBProxy","to":"PolicyEngine","counter":"18","msg":"Sending DB-Get to 192.168.120.229:16071","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"PolicyEngine","to":"SessionDBProxy","counter":"21","msg":"0x4174a358)","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"SessionDBProxy","to":"PolicyEngine","counter":"22","msg":"Sending DB-Update to 192.168.120.229:16064","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"070d","from":"PolicyEngine","to":"SessionProxy","counter":"27","msg":"Responding with Request-Ack to RADIUS-Auth from 192.168.120.229:49044","timeTaken":"664ms","traceId":"6","type":"logSequence"},{"uuid":"fbe8","from":"SessionProxy","to":"PolicyEngine","counter":"5","msg":"Sending RADIUS-Accounting-Start to 192.168.120.229:16069","timeTaken":"225ms","traceId":"6","type":"logSequence"},{"uuid":"fbe8","from":"PolicyEngine","to":"SessionProxy","counter":"18","msg":"Responding with Request-Ack to RADIUS-Accounting-Start from 192.168.120.229:50649","timeTaken":"225ms","traceId":"6","type":"logSequence"}]}, "messages");
